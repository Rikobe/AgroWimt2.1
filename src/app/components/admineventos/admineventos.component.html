<head>
  
  </head>
  <body style="padding-right: 0px; padding-right: 15px;">
    <div class="row" style="background-color:white;">
      <!--Barrita de al lado-->
      <div class="col-md-2">
            <div role="tablist" id="accordion-1">
                <div class="card">
                    <div class="card-header" role="tab">
                        <h5 class="mb-0"><a data-toggle="collapse" aria-expanded="true" aria-controls="accordion-1 .item-1" href="div#accordion-1 .item-1" >Perfil</a></h5>
                    </div>
                    <div class="collapse show item-1" [routerLink]="['/cuenta']" role="tabpanel" data-parent="#accordion-1">
                          <div class="card-body">
                            <a href="javascript:void(0);"><p class="card-text">Mi perfil</p></a>
                          </div>
                    </div>
                    <div class="collapse show item-1" [routerLink]="['/modificarperfil']" role="tabpanel" data-parent="#accordion-1">
                        <div class="card-body">
                           <a href="javascript:void(0);"><p class="card-text">Modificar perfil</p></a> 
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header" role="tab">
                        <h5 class="mb-0"><a data-toggle="collapse" aria-expanded="false" aria-controls="accordion-1 .item-2" href="div#accordion-1 .item-2">Tierras</a></h5>
                    </div>
                    <div class="collapse item-2" [routerLink]="['/agregartierra']" role="tabpanel" data-parent="#accordion-1">
                        <div class="card-body">
                          <a href="javascript:void(0);"><p class="card-text">Mis tierras</p></a> 
                        </div>
                    </div>
                    <div class="collapse item-2" role="tabpanel" data-parent="#accordion-1">
                      <div class="card-body">
                          <a href="javascript:void(0);"><p class="card-text">Tierras rentadas</p></a> 
                      </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header" role="tab">
                        <h5 class="mb-0"><a data-toggle="collapse" [routerLink]="['/contratos']" aria-expanded="false" aria-controls="accordion-1 .item-3" href="div#accordion-1 .item-3">Contratos</a></h5>
                    </div>
                    <!-- <div class="collapse item-3" role="tabpanel" data-parent="#accordion-1">
                        <div class="card-body">
                            <p class="card-text">Agregar contratos</p>
                        </div>
                    </div>
                    <div class="collapse item-3" role="tabpanel" data-parent="#accordion-1">
                      <div class="card-body">
                          <p class="card-text">Modificar contratos</p>
                      </div>
                  </div> -->
                </div>
                <div class="card">
                    <div class="card-header" role="tab">
                        <h5 class="mb-0"><a data-toggle="collapse" aria-expanded="false" aria-controls="accordion-1 .item-4" href="div#accordion-1 .item-4">Eventos</a></h5>
                    </div>
                    <div class="collapse item-4" [routerLink]="['/addevento']" role="tabpanel" data-parent="#accordion-1">
                        <div class="card-body">
                              <a href="javascript:void(0);"><p class="card-text">Nuevo evento</p></a> 
                        </div>
                    </div>
                    <!-- <div class="collapse item-4" role="tabpanel" data-parent="#accordion-1">
                      <div class="card-body">
                          <p class="card-text">Modificar evento</p>
                      </div>
                    </div> -->
                    <div class="collapse item-4" [routerLink]="['/adminevento']" role="tabpanel" data-parent="#accordion-1">
                      <div class="card-body">
                              <a href="javascript:void(0);"><p class="card-text">Administrar evento</p></a> 
                      </div>
                    </div>
      
                </div>
                
                <div class="card">
                    <div class="card-header" role="tab">
                        <h5 class="mb-0"><a data-toggle="collapse" [routerLink]="['/administrarrecursos']" aria-expanded="false" aria-controls="accordion-1 .item-5" href="div#accordion-1 .item-5">Recursos</a></h5>
                    </div>
                </div>
      
                <div class="card">
                      <div class="card-header" role="tab">
                          <h5 class="mb-0"><a data-toggle="collapse" aria-expanded="false" aria-controls="accordion-1 .item-6" href="div#accordion-1 .item-6">Solicitudes</a></h5>
                      </div>
                      <div class="collapse item-6" [routerLink]="['/misolicitudes']" role="tabpanel" data-parent="#accordion-1">
                          <div class="card-body">
                                  <a href="javascript:void(0);"><p class="card-text">Mis solicitudes</p></a> 
                          </div>
                      </div>
                      <div class="collapse item-6" [routerLink]="['/solicitudes']" role="tabpanel" data-parent="#accordion-1">
                        <div class="card-body">
                              <a href="javascript:void(0);"><p class="card-text">Solicitudes</p></a>
                        </div>
                      </div>  
                  </div>
            </div>
        </div>
    <div class="col-md-10">
      <h4>Mis eventos</h4>
      <div class="table-responsive">   
          <table class="table table-bordered">
              <thead>
                  <tr>
                  <th scope="col">Titulo</th>
                  <th scope="col">Cultivo</th>
                  <th scope="col">Ciclo</th>
                  <th scope="col">Fecha inicio</th>
                  <th scope="col">Fecha fin</th>
                  <th scope="col">Administrar</th>
                  <th scope="col">Eliminar</th>
                  </tr>
              </thead>
              <tbody > <!-- condición si no hay recursos-->
                  <tr *ngFor="let miseventos of eventos"> <!--Ciclo para recursos ngfor-->
                  <th scope="row">{{miseventos.titulo}}</th>
                  <td>{{miseventos.tipocultivo}}</td>
                  <td>{{miseventos.tipociclo}}</td>
                  <td>{{miseventos.inicio}}</td>
                  <td>{{miseventos.fin}}</td>
                  <td><button  class="btn btn-success" (click)="gotoEvento(miseventos)"><i class="far fa-edit"></i></button></td>
                  <td><button  class="btn btn-danger" (click)="openCancelModal(content,miseventos,false)"><i class="far fa-window-close"></i></button></td>
                  </tr>            
              </tbody>
          </table>                    
      </div>
    </div>

    </div>
  </body>

  <ng-template #content let-modal data-backdrop="static" data-keyboard="false">
      <div class="modal-header">
          <h4 class="modal-title">Eliminar evento</h4>
          
      </div>
      <div class="modal-body">
          <p>¿Desea eliminar este evento permanentemente?</p>
          <p>El evento no podrá seguir siendo administrado.</p>
      </div>
      <div class="modal-footer">
          <button type="button" (click)="modal.close('Close click'); eliminarE(uso);" class="btn btn-primary">Aceptar</button>
          <button type="button" (click)="modal.close('Close click');" class="btn btn-danger">Cancelar</button>
          
      </div>
  </ng-template>
  <ng-template #uso let-modal data-backdrop="static" data-keyboard="false">
          <div class="modal-header">
              <h4 class="modal-title">{{usoTitle}}</h4>
              
          </div>
          <div class="modal-body">
              <p>{{usoDesc}}</p>
          </div>
          <div class="modal-footer">
              <button type="button" (click)="modal.close('Close click');" class="btn btn-info">Aceptar</button>
          </div>
  </ng-template>